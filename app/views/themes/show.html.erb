<div class="container">



<div class="form-inline d-flex" style="width:100%">
    <div><%= form_tag topic_theme_path, method: :get do %> </div>
      <div class="search-box"> <%= text_field_tag :query, params[:query], placeholder:"keyword", class: 'search-input pr-0 mr-0', style: "width:60%"%>
         <%= submit_tag 'search', class: 'search-btn'%> </div>
          <% end %>
 </div>


<div class="new-card-show">
  <h4 class="theme-cat"> <%= @theme.title %> </h4>
  <div data-type= '<%= @theme.content%>'>
      <%= @theme.content%>
  </div>
  <br>
      <div class="d-flex justify-content-between">
      <div> by <%= @theme.user.username %></div>
      <div><%= @theme.date %></div>
    </div>

</div>







 <div class="btn-blocs">
    <div class="d-flex justify-content-between">
      <div class="row">
     <%= link_to "Show all threads", topic_themes_path(reset: true), class: "btn btn-outline-secondary" %>
     <%= link_to "Most liked", topic_themes_path(filter: 'likes'), class: "btn btn-outline-secondary" %>
     <%= link_to "Most commented", topic_themes_path(filter: 'comments'), class: "btn btn-outline-secondary" %>
     <%= link_to "Today", topic_themes_path(period: 'today'), class: "btn btn-outline-secondary" %>
     <%= link_to "This week", topic_themes_path(period: 'week'), class: "btn btn-outline-secondary" %>
     <%= link_to "This month", topic_themes_path(period: 'month'), class: "btn btn-outline-secondary"%>
     <%= link_to "This year", topic_themes_path(period: 'year'), class: "btn btn-outline-secondary" %>
    <!--  <%= link_to "All time", topic_themes_path(period: 'all'), class: "btn btn-outline-secondary" %> -->
     </div>
    </div>
 </div>


 <div class="d-flex justify-content-between">
<div class="link-deco"> <%= link_to "leave a comment", new_theme_comment_path(@theme) %> </div>
<div class="link-deco"> <%= link_to "show all", topic_theme_path(reset: true) %> </div>
</div>
<br>
<div> <%= social_share_button_tag(@theme.title) %> </div>



<% @comments.each do |comment| %>
    <div data-type= '<%= comment.content%>' class="theme-card-show">
      <div> <%= comment.content%> </div>
      <br>
      <div class="d-flex justify-content-between">
    <div>by <%= comment.user.username %></div>
    <div><%= comment.date %></div>
     </div>


<div>
    <%= comment.commentupvotes.count %>
    <% if comment.get_commentupvote_of_user(current_user) %>
      <%= link_to commentupvote_path(comment.get_commentupvote_of_user(current_user)), method: :delete do  %>
     <i  id="heart-like" class="fas fa-heart"></i>
    <% end %>

    <% else %>
      <%= link_to comment_commentupvotes_path(comment), method: :post  do %>
      <i id="heart-like" class="far fa-heart"></i>
      <% end %>
    <% end %>

</div>



  </div>

<% end %>


<div class="d-flex justify-content-between">
<div class="btn-flat-inv" id="link-color-size"> back to <%= link_to @theme.topic.category, topic_themes_path %> </div>
</div>

<div class="container">
  <div class="row">
  <%= paginate @comments %>
  </div>
</div>
</div>
</div>
